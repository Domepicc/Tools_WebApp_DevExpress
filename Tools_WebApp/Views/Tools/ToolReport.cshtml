
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    // esce un errore perché dev express è già definito in questo layout.
    // questa  partial view viene usata in due occasioni, una ha bisogno del Layout
    // e in un'altra è già definito
}

<script>

    $(document).ready(function () {
        var stringId = $("#idTool").val();
        $.ajax({
            url: "/Tools/GetQrCode/" + stringId,
            type: "GET",
            async: false,
            success: function (result) {
                //document.getElementById("target").src = 'data:image/png;base64,"' + result;
                $("#qrCode").attr("src", 'data:image/png;base64,' + result);

            }
        });
    });



    $(document).ready(function () {
        $("#downloadReport").click(function () {

            var stringId = $("#idTool").val();

            window.location = "https://localhost:44340/Tools/GridViewPartialReportDownload/" + stringId;
        });
    })

</script>

@Html.Partial("_ToolReport")
